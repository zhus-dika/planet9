(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f022341"],{"77c0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"new__group-content"},[r("div",{staticClass:"programmes__title"},[e._v("Группа")]),r("form",{staticClass:"new__group",on:{submit:function(t){return e.saveGroup()}}},[r("div",{staticClass:"new__group-points"},[e._m(0),r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name"},[e._v("Тип группы")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.type,expression:"group.type"}],staticClass:"new__group-type",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Выбрать")]),r("option",{attrs:{value:"Индивидуально"}},[e._v("Индивидуально")]),r("option",{attrs:{value:"Минигруппа"}},[e._v("Минигруппа")])])]),r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name"},[e._v("Департамент")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.department.id,expression:"group.department.id"}],staticClass:"new__group-department",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group.department,"id",t.target.multiple?r:r[0])},function(t){return e.onChangeDepartment()}]}},[r("option",{attrs:{value:"0"}},[e._v("Выбрать")]),e._l(e.departments,(function(t){return r("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)]),r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name"},[e._v("Предмет")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.subject.id,expression:"group.subject.id"}],staticClass:"new__group-subject",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group.subject,"id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[e._v("Выбрать")]),e._l(e.filteredSubjects,(function(t){return r("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)])]),r("div",{staticClass:"new__group-points"},[r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name",attrs:{for:"class"}},[e._v("Класс")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.groupClass,expression:"group.groupClass"}],staticClass:"new__group-class",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group,"groupClass",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[e._v("Выбрать")]),e._l(12,(function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t))])}))],2)]),r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name"},[e._v("Тип учебной программы")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.eduProgrammeType,expression:"group.eduProgrammeType"}],staticClass:"new__group-programme-type",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group,"eduProgrammeType",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Выбрать")]),e._l(e.programmeTypes,(function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t))])}))],2)]),r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name"},[e._v("Преподаватель")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.teacher.id,expression:"group.teacher.id"}],staticClass:"new__group-teacher",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group.teacher,"id",t.target.multiple?r:r[0])},function(t){return e.onChangeTeacher()}]}},[r("option",{attrs:{value:"0"}},[e._v("Выбрать")]),e._l(e.filteredTeachers,(function(t){return r("option",{domProps:{value:t.id}},[e._v(e._s(t.lastName)+" "+e._s(t.firstName))])}))],2)]),r("div",{staticClass:"form__item-group"},[r("label",{staticClass:"label__name"},[e._v("Язык обучения")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.group.language,expression:"group.language"}],staticClass:"new__group-language",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.group,"language",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Выбрать")]),r("option",{attrs:{value:"Казахский"}},[e._v("Казахский")]),r("option",{attrs:{value:"Русский"}},[e._v("Русский")])])])]),r("div",{staticClass:"new__group-points"},[r("div",{staticClass:"new__group-schedule"},[r("div",{staticClass:"new__group-schedule__title"},[e._v("Расписание")]),r("ul",{staticClass:"new__group-schedule__list"},e._l(e.days,(function(t,a){return r("li",{staticClass:"new__group-schedule__item"},[e._v(e._s(t)),r("new-group-schedule",{attrs:{selectedTime:e.selectedTime,day:a+1,teacherSchedule:e.teacherSchedule,index:a+1},on:{scheduleTimeSelect:e.scheduleTimeSelect}})],1)})),0)])]),r("div",{staticClass:"new__group-buttons"},[r("button",{staticClass:"save__button-new-group",attrs:{type:"submit"}},[e._v(" Сохранить")]),r("button",{staticClass:"reset__button-new-group",on:{click:function(t){return t.preventDefault(),e.resetGroup(t)}}},[e._v(" Отмена")])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form__item-group-img"},[a("img",{staticClass:"img",attrs:{src:r("a922")}})])}],u=(r("4de4"),r("4160"),r("a434"),r("d3b7"),r("159b"),r("5530")),o=r("2f62"),n={components:{newGroupSchedule:function(){return r.e("chunk-47fc19ba").then(r.bind(null,"b6f1"))}},props:{departments:Array,subjects:Array,teachers:Array},data:function(){return{selectedTime:0,group:{language:"",groupClass:0,groupSchool:"",department:{id:0},subject:{id:0},teacher:{id:0},type:"",eduProgrammeType:"",schedule:[]},days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],programmeTypes:["основная","ЕНТ","подготовка в спец.школу","подготовка к олимпиаде"]}},computed:Object(u["a"])({},Object(o["d"])("teacherSchedule",{teacherSchedule:function(e){return e.teacherSchedule}}),{filteredTeachers:function(){var e=this;return this.teachers.filter((function(t){return t.department.id==e.group.department.id||0==e.group.department.id}))},filteredSubjects:function(){var e=this;return this.subjects.filter((function(t){return t.department.id==e.group.department.id||0==e.group.department.id}))}}),methods:Object(u["a"])({},Object(o["b"])("teacherSchedule",["fetchTeacherSchedule"]),{},Object(o["b"])("groups",["addGroup"]),{},Object(o["b"])("error",["fetchError"]),{onChangeTeacher:function(){this.fetchTeacherSchedule(this.group.teacher.id),this.selectedTime=0},saveGroup:function(){""==this.group.language||0==this.group.groupClass||""==this.group.groupSchool||0==this.group.department.id||0==this.group.subject.id||""==this.group.type||""==this.group.eduProgrammeType?this.fetchError("Не все поля заполнены!"):(this.addGroup(this.group),this.$emit("eventNewGroup"))},resetGroup:function(){this.$emit("eventNewGroup")},onChangeDepartment:function(){this.group.subject.id=0,this.group.teacher.id=0,this.group.language="",this.group.id=0},scheduleTimeSelect:function(e){var t=this;0!=e.scheduleTime?this.group.schedule.push(e):0!=this.group.schedule.filter((function(t){return t.scheduleItem.scheduleDay==e.scheduleDay})).length&&this.group.schedule.forEach((function(r,a){r.scheduleItem.scheduleDay==e.scheduleDay&&0==e.scheduleTime&&t.group.schedule.splice(a,1)}))}})},i=n,l=(r("f0d8"),r("2877")),c=Object(l["a"])(i,a,s,!1,null,"81a00b78",null);t["default"]=c.exports},a922:function(e,t,r){e.exports=r.p+"img/panda1.46fdbfaf.svg"},b7dc:function(e,t,r){},f0d8:function(e,t,r){"use strict";var a=r("b7dc"),s=r.n(a);s.a}}]);
//# sourceMappingURL=chunk-1f022341.b574649e.js.map